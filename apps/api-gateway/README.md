# API Gateway

## π§­ μ—­ν•  (Role)

`api-gateway`λ” λ¨λ“  ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ **μ§„μ…μ (entry point)** μ—­ν• μ„ μν–‰ν•λ” μ„λΉ„μ¤λ΅,  
λ‚΄λ¶€ λ§μ΄ν¬λ΅μ„λΉ„μ¤λ“¤κ³Ό μ™Έλ¶€ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄μ **μ¤‘μ•™ ν†µμ‹  ν—λΈ**μ…λ‹λ‹¤.

## π“ μ£Όμ” κΈ°λ¥ (Responsibilities)

- **λΌμ°ν… ν†µν•©**  
  ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ‚΄λ¶€ μ„λΉ„μ¤(`user-service`, `event-service`, λ“±)λ΅ ν¬μ›λ”©ν•©λ‹λ‹¤.

- **μΈμ¦/μΈκ°€ μ²λ¦¬**  
  JWT, μ„Έμ… λ“± μΈμ¦ μ •λ³΄λ¥Ό κ²€μ¦ν•κ³  ν•„μ”ν• κ²½μ° μ‚¬μ©μ κ¶ν•μ„ κ²€μ‚¬ν•©λ‹λ‹¤.

- **μ‘λ‹µ μ΅°ν•© λ° λ³€ν™**  
  μ—¬λ¬ μ„λΉ„μ¤λ΅λ¶€ν„°μ μ‘λ‹µμ„ ν•λ‚λ΅ μ΅°ν•©ν•κ±°λ‚, ν΄λΌμ΄μ–ΈνΈμ— μ ν•©ν• ν•νƒλ΅ κ°€κ³µν•©λ‹λ‹¤.

- **μμ™Έ ν•Έλ“¤λ§ λ° λ΅κΉ…**  
  μ”μ²­ λ° μ‘λ‹µ κ³Όμ •μ μμ™Έλ¥Ό ν†µν•© μ²λ¦¬ν•κ³ , κ³µν†µ λ΅κ·Έλ¥Ό κΈ°λ΅ν•©λ‹λ‹¤.

- **API λ¬Έμ„ μ κ³µ (Swagger)**  
  μ „μ²΄ μ‹μ¤ν…μ API λ…μ„Έλ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ κ³µν•©λ‹λ‹¤.

- **Gateway-level Middleware**  
  κ³µν†µ μΈν„°μ…‰ν„°, ν•„ν„°, λ΅κΉ… λ―Έλ“¤μ›¨μ–΄λ¥Ό μ μ©ν•μ—¬ μ”μ²­ νλ¦„μ„ μ μ–΄ν•©λ‹λ‹¤.

## π ν¬νΈ μ •λ³΄

| μ„λΉ„μ¤      | ν¬νΈ   | μ™Έλ¶€ λ…Έμ¶ μ—¬λ¶€        |
| ----------- | ------ | --------------------- |
| API Gateway | `3000` | β… μ™Έλ¶€μ—μ„ μ ‘κ·Ό κ°€λ¥ |

## π›οΈ κ΄€λ ¨ μ„λΉ„μ¤λ“¤

| μ„λΉ„μ¤                | ν¬νΈ   |
| --------------------- | ------ |
| `user-service`        | `3004` |
| `event-service`       | `3001` |
| `reservation-service` | `3002` |
| `seat-service`        | `3003` |

> β οΈ μ„ μ„λΉ„μ¤λ“¤μ€ API Gatewayλ¥Ό ν†µν•΄μ„λ§ μ ‘κ·Όλλ©°, μ§μ ‘ λ…Έμ¶λμ§€ μ•μµλ‹λ‹¤.

## π’΅ λΉ„κ³ 

- μ„λΉ„μ¤ κ°„ ν†µμ‹ μ€ `Kafka` λ° `HTTP Proxy` κµ¬μ΅°λ΅ κµ¬ν„λ  μμ •μ…λ‹λ‹¤.
- μΈμ¦ λ° λ΅κΉ… λ΅μ§μ€ Gatewayμ—μ„ κ³µν†µ μ μ©λ  μ μλ„λ΅ μ„¤κ³„λ©λ‹λ‹¤.
