config:
  target: 'http://localhost:3002'
  phases:
    - duration: 60 # 2ë¶„ ë™ì•ˆ ë¶€í•˜ ë°œìƒ
      arrivalRate: 10 # ì´ˆë‹¹ 100ëª… ì ‘ì†
  processor: './reservation-flow.ts'
  payload:
    path: './reservation-test-payload.csv'
    fields:
      - 'userId'
      - 'seatId'
      - 'eventId'
  plugins:
    expect: {}
  environments:
    local:
      target: 'http://localhost:3002'
  defaults:
    headers:
      content-type: 'application/json'
    http:
      timeout: 10
      keepAlive: true
  reports:
    - 'result.json'

scenarios:
  - name: 'ğŸŸï¸ í‹°ì¼“ ì˜ˆì•½ ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤'
    flow:
      - function: 'connectWebSocket'
      - think: 1
      - function: 'waitForActiveStatus'
      - think: 1
      - function: 'simulateReservation'
      - think: 1
      - function: 'simulatePayment'
